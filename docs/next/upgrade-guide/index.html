<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-37514928-10","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Apiato" href="/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><title data-react-helmet="true">Upgrade Guide | Apiato</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="http://apiato.io//docs/next/upgrade-guide"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Upgrade Guide | Apiato"><meta data-react-helmet="true" name="description" content="- Upgrade from 10.0 to 11.0"><meta data-react-helmet="true" property="og:description" content="- Upgrade from 10.0 to 11.0"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://apiato.io//docs/next/upgrade-guide"><link data-react-helmet="true" rel="alternate" href="http://apiato.io//docs/next/upgrade-guide" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://apiato.io//docs/next/upgrade-guide" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.8bf24a62.css">
<link rel="preload" href="/assets/js/runtime~main.19966c2b.js" as="script">
<link rel="preload" href="/assets/js/main.01e2ca88.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" role="banner"><div class="announcementBarPlaceholder_xYHE"></div><div class="announcementBarContent_6uhP">‚≠êÔ∏è If you like Apiato, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/apiato/apiato">GitHub</a></div><button type="button" class="clean-btn close announcementBarClose_A3A1" aria-label="Close"><svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"></path></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Apiato Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Apiato Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Apiato</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/next/">Next üöß</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/upgrade-guide">Next üöß</a></li><li><a class="dropdown__link" href="/docs/upgrade-guide">10.x</a></li><li><a class="dropdown__link" href="/docs/9.x/upgrade-guide">9.x</a></li></ul></div><a href="https://github.com/apiato/apiato" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting Started</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Features</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Components</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Miscellaneous</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/next/upgrade-guide">Upgrade Guide</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/next/contribution-guide">Contribution Guide</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/next/faq">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a href="https://github.com/apiato/apiato/releases" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Change Log<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Apiato <b>Next üöß</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/upgrade-guide">latest version</a></b> (10.x).</div></div><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: Next üöß</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Upgrade Guide</h1></header><ul><li><a href="#upgrade-10To11">Upgrade from 10.0 to 11.0</a></li><li><a href="#upgrade-90To10">Upgrade from 9.0 to 10.0</a></li><li><a href="#upgrade-80To90">Upgrade from 8.0 to 9.0</a></li><li><a href="#upgrade-74To80">Upgrade from 7.4 to 8.0</a></li><li><a href="#upgrade-73To74">Upgrade from 7.3 to 7.4</a></li><li><a href="#upgrade-72To73">Upgrade from 7.2 to 7.3</a></li><li><a href="#upgrade-71To72">Upgrade from 7.1 to 7.2</a></li><li><a href="#upgrade-70To71">Upgrade from 7.0 to 7.1</a></li><li><a href="#upgrade-50To70">Upgrade from 5.0 to 7.0</a></li><li><a href="#upgrade-41To50">Upgrade from 4.1 to 5.0</a></li><li><a href="#how-to-manually-upgrade-older-versions-to-41">How to manually upgrade older versions to 4.1?</a></li><li><a href="#Manual-Upgrading-Guide">Manual Upgrading Guide</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="upgrade-10To11"></a>Upgrade from 10.0 to 11.0<a class="hash-link" href="#upgrade-10To11" title="Direct link to heading">#</a></h2><p>WIP</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="upgrade-90To10"></a>Upgrade from 9.0 to 10.0<a class="hash-link" href="#upgrade-90To10" title="Direct link to heading">#</a></h2><p>Changes in v10 are so drastic that there was no way we could provide an upgrade guide for it.<br>
We suggest that you see the <a href="https://github.com/apiato/apiato/releases/tag/v10.0.0" target="_blank" rel="noopener noreferrer">v10 release notes</a> and upgrade your project using it.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="upgrade-80To90"></a>Upgrade from 8.0 to 9.0<a class="hash-link" href="#upgrade-80To90" title="Direct link to heading">#</a></h2><blockquote><p>Estimated upgrading time: 30 minutes.</p></blockquote><p>1) Follow the steps in the <a href="#Manual-Upgrading-Guide">Manual Upgrading Guide</a> below.</p><p>You can view <a href="https://github.com/apiato/apiato/compare/8.0...9.0" target="_blank" rel="noopener noreferrer">all changes here</a>.</p><ul><li>Running <code>php artisan apiato</code> should return <code>9.0.0</code></li><li>Running <code>php artisan -V</code> should return <code>7.*.*</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="upgrade-74To80"></a>Upgrade from 7.4 to 8.0<a class="hash-link" href="#upgrade-74To80" title="Direct link to heading">#</a></h2><blockquote><p>Estimated upgrading time: 30 minutes.</p></blockquote><p>1) Move the <code>WePay</code> Container away until the upgrade is done, or delete it if you&#x27;re not using it. This container was removed in Apiato 8.0.</p><p>2) Follow the steps in the <a href="#Manual-Upgrading-Guide">Manual Upgrading Guide</a> below.</p><p>3) Use <code>.test</code> instead of <code>.develop</code> for the URL&#x27;s.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="upgrade-73To74"></a>Upgrade from 7.3 to 7.4<a class="hash-link" href="#upgrade-73To74" title="Direct link to heading">#</a></h2><blockquote><p>Estimated upgrading time: 30 minutes.</p></blockquote><p><strong>IMPORTANT NOTE 1</strong> : Before upgrading, please review <strong>all</strong> of your own dependencies, if respective &quot;Laravel 5.6
compatible versions&quot; are already published!</p><p><strong>IMPORTANT NOTE 2</strong> : Before upgrading, please <code>git commit</code> all of your changes in order to rollback if something breaks!</p><p>Key Changes:</p><ul><li>Apiato now requires PHP 7.1.3 to run - this is because of Laravel&#x27;s dependency!</li><li>Added Laravel 5.6. See the <a href="https://laravel.com/docs/master/upgrade" target="_blank" rel="noopener noreferrer">Laravel Upgrade Guide</a> for more details.</li></ul><p>Most of the changes introduced by Laravel 5.6 are easy to integrate. However, the following might be a <strong>BREAKING CHANGE</strong>
to your application. Please review the following changes with caution:</p><blockquote><p>Database: Index Order Of Morph Columns</p><p>The indexing of the columns built by the morphs migration method has been reversed for better performance. If you are
using the morphs method in one of your migrations, you may receive an error when attempting to run the migration&#x27;s
down method. If the application is still in development, you may use the migrate:fresh command to rebuild the database
from scratch. If the application is in production, you should pass an explicit index name to the morphs method.</p></blockquote><p>Manual Tasks to do:</p><ul><li>Update your own dependencies to new L5.6 compatible versions!</li><li>Add the new <code>LOG_CHANNEL=stack</code> to your environment file.</li><li>Copy the 2 new Laravel config files (<code>hashing.php</code> and <code>logging.php</code>) to <code>/config/</code> folder in your main project tree.</li><li>Adjust the <code>TrustProxies</code> in <code>App/Ship/Middlewares</code> accordingly.</li><li><strong>Check, if the described &quot;breaking change&quot; may affect your application!</strong></li><li>Check (and eventually manually set) the dependency to <code>apiato/core : 2.4.*</code> in your <code>App/Ship/composer.json</code> file</li></ul><p>Use the <a href="#Manual-Upgrading-Guide">Manual Upgrading Guide</a> below.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="upgrade-72To73"></a>Upgrade from 7.2 to 7.3<a class="hash-link" href="#upgrade-72To73" title="Direct link to heading">#</a></h2><blockquote><p>Estimated upgrading time: 20 minutes.</p></blockquote><p>Use the <a href="#Manual-Upgrading-Guide">Manual Upgrading Guide</a> below.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="upgrade-71To72"></a>Upgrade from 7.1 to 7.2<a class="hash-link" href="#upgrade-71To72" title="Direct link to heading">#</a></h2><blockquote><p>Estimated upgrading time: 10 minutes.</p></blockquote><p>Use the <a href="#Manual-Upgrading-Guide">Manual Upgrading Guide</a> below.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="upgrade-70To71"></a>Upgrade from 7.0 to 7.1<a class="hash-link" href="#upgrade-70To71" title="Direct link to heading">#</a></h2><blockquote><p>Estimated upgrading time: 45 minutes.</p></blockquote><p>Use the <a href="#Manual-Upgrading-Guide">Manual Upgrading Guide</a> below.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="upgrade-50To70"></a>Upgrade from 5.0 to 7.0<a class="hash-link" href="#upgrade-50To70" title="Direct link to heading">#</a></h2><blockquote><p>Estimated upgrading time: 30 minutes.</p></blockquote><p>By upgrading to <code>Apiato 7.0</code> you can benefit from all the features provided by <code>Laravel 5.5</code>.</p><p><em>This upgrade is simple.</em></p><p>You just have to do the following changes found at the <a href="https://github.com/apiato/apiato/compare/5.0...7.0" target="_blank" rel="noopener noreferrer">GitHub Comparison Tool</a>.</p><p>Note: Some of the files are not required to be upgraded. And some of them, can be simply replaced by the new files
(copy a file content from the Apiato repository and replace it with your older version).</p><p>Hint: You can do a git merge and solve the conflicts, if you don&#x27;t want to manually do the changes commit by commit.</p><blockquote><p><strong>Important Information</strong>: Laravel 5.5 introduces an <code>auto-discovery</code> feature that lets you automatically register <code>ServiceProviders</code>.
Due to the nature and structure of Apiato applications, this features <strong>is turned off</strong>, because it messes up how <code>config</code> files are loaded
in apiato. This means, that you still need to <strong>manually</strong> register 3rd-party <code>ServiceProviders</code> in the <code>ServiceProvider</code> of a <code>Container</code>. (This should be a temporary situation)</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="upgrade-41To50"></a>Upgrade from 4.1 to 5.0<a class="hash-link" href="#upgrade-41To50" title="Direct link to heading">#</a></h2><blockquote><p>Estimated upgrading time: 15 minutes.</p></blockquote><p>This guide will show you how to freshly install the new Apiato 5.0, then migrate your old project (built with Apiato 4.1)
to the freshly installed one (Apiato 5.0).</p><p><em>In the guide we&#x27;ll be using the term <strong>Old Project</strong> (referring to your old project that was built with Apiato 4.1),
and the term New <strong>Project</strong> (referring to the new freshly installed Apiato 5.0).</em></p><p>1) Download and install Apiato 5.0. See [Application Setup]({{ site.baseurl }}{% link _docs/getting-started/installation.md %}).</p><p>2) Delete the Containers directory <code>app/Containers</code> from the new project.</p><p>3) Move the Containers directory <code>app/Containers</code> from the old project to the new project.</p><p>4) Open this file <code>app/Ship/composer.json</code> in your old project and only copy the required dependencies, from the old project to the same file in the new project.</p><p>5) Again, open the <code>app/Ship/composer.json</code> file in the new project, and remove the following dependencies:
<code>guzzlehttp/guzzle</code>, <code>prettus/l5-repository</code>, <code>barryvdh/laravel-cors</code>, <code>spatie/laravel-fractal</code>, <code>vinkla/hashids</code> and <code>johannesschobel/apiato-container-installer</code>.</p><p>6) Move and replace the following directories from the old project to the new project: <code>config</code>, <code>public</code>, <code>resources</code>, <code>database</code> and <code>storage</code>.</p><p>7) Open <code>config/app.php</code> and replace <code>App\Ship\Engine\Providers\PortoServiceProvider::class</code> with <code>Apiato\Core\Providers\ApiatoProvider::class</code>.</p><p>8) Move <code>.gitignore</code>, <code>phpunit.xml</code> and <code>.env</code> files, from the old project to the new project.</p><p>9) Open the <code>.env</code> file on the new project and append this to it <code>API_RATE_LIMIT_ENABLED=true</code>.</p><p>10) Open <code>phpunit.xml</code> file of the new project and delete this line from the file <code>&lt;file&gt;./app/Ship/Engine/Loaders/FactoryMixer/FactoriesLoader.php&lt;/file&gt;</code>.</p><p>11) If you had live testing data in your old project inside <code>app/Ship/Seeders/Data/Testing/Seeders/TestingDataSeeder.php</code> file, then copy that file content and past it in the new project inside <code>app/Ship/Seeders/SeedTestingData.php</code>. You will need to rename the class (not the file) from <code>TestingDataSeeder</code> to <code>SeedTestingData</code>,
and you will need to update the namespace from <code>namespace App\Ship\Seeders\Data\Testing\Seeders;</code> to <code>namespace App\Ship\Seeders;</code>.</p><p>12) If you ever used the <code>HashIdTrait</code>, you need to search and replace this namespace <code>App\Ship\Engine\Traits\HashIdTrait</code> with this <code>Apiato\Core\Traits\HashIdTrait</code>.</p><p>13) Run <code>composer update</code>. If you got any error at this step, try to solve it or open an <a href="https://github.com/apiato/apiato/issues" target="_blank" rel="noopener noreferrer">Issue</a>.</p><p>14) Move the <code>.git</code> directory from the old project to the new one. Add all changes <code>git add .</code> then commit <code>git commit -m &#x27;upgrade Apiato from 4.1 to 5.0&#x27;</code>.</p><p>15) Run your tests <code>vendor/bin/phpunit</code>.</p><p>That&#x27;s it :)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="how-to-manually-upgrade-older-versions-to-41"></a>How to manually upgrade older versions to 4.1?<a class="hash-link" href="#how-to-manually-upgrade-older-versions-to-41" title="Direct link to heading">#</a></h2><p>Use the <a href="#Manual-Upgrading-Guide">Manual Upgrading Guide</a> below.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="Manual-Upgrading-Guide"></a>Manual Upgrading Guide<a class="hash-link" href="#Manual-Upgrading-Guide" title="Direct link to heading">#</a></h2><blockquote><p>These commands and examples, are compatible with the Apiato 8.0 upgrade. You can just copy/past.</p></blockquote><p>1) Checkout a new branch from your stable branch, to perform the upgrade.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout -b upgrade-apiato</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>2) Configure a new remote (upstream) that points to the official Apiato repository.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> remote </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> upstream https://github.com/apiato/apiato</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Verify the new upstream repository was added, by listing the current configured remote repositories.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> remote -vv</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">origin      git@bitbucket.org:username/my-awesome-api.git </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fetch</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">origin      git@bitbucket.org:username/my-awesome-api.git </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">push</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">upstream    git@github.com:apiato/apiato.git </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fetch</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">upstream    git@github.com:apiato/apiato.git </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">push</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>3) Checkout a new branch to hold the latest Apiato changes. <em>This branch will be merged into your <code>upgrade-apiato</code> branch created above.</em></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout -b apiato-</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">version</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Example:   </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout -b apiato-8.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>4) Configure this branch to track an upstream specific branch.</p><p><em>Replace <code>{upstream-branch-name}</code> with the <a href="https://github.com/apiato/apiato/branches" target="_blank" rel="noopener noreferrer">branch</a> name you want to upgrade to (for example <code>8.0</code>).</em></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> fetch upstream </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">upstream-branch-name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Example:   </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> fetch upstream </span><span class="token number" style="color:#36acaa">8.0</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> branch --set-upstream-to upstream/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">upstream-branch-name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Example:   </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> branch --set-upstream-to upstream/8.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Verify your local branch is tracking the Apiato specified upstream branch.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> branch -vv</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> apiato          77b4d945 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">upstream/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">upstream-branch-name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> master          77d302aa </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">origin/master</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>5) Make this branch identical to the remote upstream branch</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> reset --hard upstream/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">upstream-branch-name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Example:   </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> reset --hard upstream/8.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Verify this branch now contains the latest changes from the upstream branch.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> log</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>6) Switch back to the <code>upgrade-apiato</code> branch</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout upgrade-apiato</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>7) Now lets merge the 2 branches. This step can be done in two ways:</p><p><strong>Option A</strong>: Merge all the changes together and solve the conflicts if any. (Recommended)</p><p>You can execute the next command with different different parameters, below are 2 options to pick whatever feels safer to you. Do not execute both of them.</p><p>A1: This will overwrite your changes with the upstream changes. (Try this first and if your tests failed then you can try the second one).</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> merge --allow-unrelated-histories --strategy-option</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">theirs apiato-</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">version</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Example:   </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> merge --allow-unrelated-histories --strategy-option</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">theirs apiato-8.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>A2: This will let you solve all the conflicts manually. (Can be the most secure choice, but it&#x27;s time consuming as well.)</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> merge --allow-unrelated-histories apiato-</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">version</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Example:   </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> merge --allow-unrelated-histories apiato-8.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Option B</strong>: Manually cherry pick the commits you likes to have:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> log </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">upstream-branch-name</span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>(copy each commit ID, one by one)</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> cherry-pick </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">commit-ID</span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>(if you get any conflict solve it and keep moving)</p><p>8) Compare your <code>.env</code> with the new <code>.env-example</code> and update it.</p><p>9) Check everything is working. By running Composer install first then re-running your tests.</p><ul><li>Read the changelog <a href="https://github.com/apiato/apiato/releases" target="_blank" rel="noopener noreferrer">releases</a> page.</li><li>You may want to update your custom containers dependencies, simply follow the <code>composer install</code> error outputs and bump each failing dependency. (Hint: visit each package <a href="https://github.com/apiato/apiato/releases" target="_blank" rel="noopener noreferrer">releases</a> page, and use the version which supports the supported version of Laravel).</li><li>You may need to fix the failing tests.</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">composer</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain">  vendor/bin/phpunit</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>10) Finally, merge the upgrade-apiato (which contains the upgraded changes) with your stable branch (could be master).</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout master</span></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> merge upgrade-apiato</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ùØ php artisan -V</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Enjoy :)</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apiato/documentation/tree/master/docs/upgrade-guide.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated on <b><time datetime="2021-09-30T05:59:57.000Z">9/30/2021</time></b> by <b>mohammad-alavi</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/next/miscellaneous/tasks-queuing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Tasks Queuing</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/next/contribution-guide"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Contribution Guide ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#upgrade-10To11" class="table-of-contents__link">Upgrade from 10.0 to 11.0</a></li><li><a href="#upgrade-90To10" class="table-of-contents__link">Upgrade from 9.0 to 10.0</a></li><li><a href="#upgrade-80To90" class="table-of-contents__link">Upgrade from 8.0 to 9.0</a></li><li><a href="#upgrade-74To80" class="table-of-contents__link">Upgrade from 7.4 to 8.0</a></li><li><a href="#upgrade-73To74" class="table-of-contents__link">Upgrade from 7.3 to 7.4</a></li><li><a href="#upgrade-72To73" class="table-of-contents__link">Upgrade from 7.2 to 7.3</a></li><li><a href="#upgrade-71To72" class="table-of-contents__link">Upgrade from 7.1 to 7.2</a></li><li><a href="#upgrade-70To71" class="table-of-contents__link">Upgrade from 7.0 to 7.1</a></li><li><a href="#upgrade-50To70" class="table-of-contents__link">Upgrade from 5.0 to 7.0</a></li><li><a href="#upgrade-41To50" class="table-of-contents__link">Upgrade from 4.1 to 5.0</a></li><li><a href="#how-to-manually-upgrade-older-versions-to-41" class="table-of-contents__link">How to manually upgrade older versions to 4.1?</a></li><li><a href="#Manual-Upgrading-Guide" class="table-of-contents__link">Manual Upgrading Guide</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Getting Started</a></li><li class="footer__item"><a href="https://github.com/Mahmoudz/Porto#porto-software-architectural-pattern" target="_blank" rel="noopener noreferrer" class="footer__link-item">Porto Architecture</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/ryPcV4KM5k" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord Server<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apiato/apiato/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contributors</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/contribution-guide">Contribution Guide</a></li><li class="footer__item"><a href="https://github.com/apiato/apiato/blob/9.0/CODE_OF_CONDUCT.md" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Code of Conduct<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Sponsors</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/apiato/apiato#sponsors" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Our Sponsors<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opencollective.com/apiato" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Become a Sponsor<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2016 - 2022</div></div></div></footer></div>
<script src="/assets/js/runtime~main.19966c2b.js"></script>
<script src="/assets/js/main.01e2ca88.js"></script>
</body>
</html>