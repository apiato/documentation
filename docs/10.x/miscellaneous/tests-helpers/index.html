<!doctype html>
<html class="docs-version-10.x" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-37514928-10","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Apiato" href="/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><title data-react-helmet="true">Tests Helpers | Apiato</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="http://apiato.io//docs/10.x/miscellaneous/tests-helpers"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="10.x"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-10.x"><meta data-react-helmet="true" property="og:title" content="Tests Helpers | Apiato"><meta data-react-helmet="true" name="description" content="- Tests properties"><meta data-react-helmet="true" property="og:description" content="- Tests properties"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://apiato.io//docs/10.x/miscellaneous/tests-helpers"><link data-react-helmet="true" rel="alternate" href="http://apiato.io//docs/10.x/miscellaneous/tests-helpers" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://apiato.io//docs/10.x/miscellaneous/tests-helpers" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.8bf24a62.css">
<link rel="preload" href="/assets/js/runtime~main.195c27d3.js" as="script">
<link rel="preload" href="/assets/js/main.0ad1a1c4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" role="banner"><div class="announcementBarPlaceholder_xYHE"></div><div class="announcementBarContent_6uhP">‚≠êÔ∏è If you like Apiato, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/apiato/apiato">GitHub</a></div><button type="button" class="clean-btn close announcementBarClose_A3A1" aria-label="Close"><svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"></path></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Apiato Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Apiato Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Apiato</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/10.x/">10.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/miscellaneous/tests-helpers">Next üöß</a></li><li><a class="dropdown__link" href="/docs/miscellaneous/tests-helpers">11.x</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/10.x/miscellaneous/tests-helpers">10.x</a></li><li><a class="dropdown__link" href="/docs/9.x/miscellaneous/tests-helpers">9.x</a></li></ul></div><a href="https://github.com/apiato/apiato" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting Started</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Features</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Components</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Miscellaneous</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/10.x/miscellaneous/tests-helpers">Tests Helpers</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/10.x/miscellaneous/tasks-scheduling">Tasks Scheduling</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/10.x/miscellaneous/tasks-queuing">Tasks Queuing</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/10.x/upgrade-guide">Upgrade Guide</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/10.x/contribution-guide">Contribution Guide</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/10.x/faq">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a href="https://github.com/apiato/apiato/releases" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Change Log<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Apiato <b>10.x</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/miscellaneous/tests-helpers">latest version</a></b> (11.x).</div></div><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 10.x</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Tests Helpers</h1></header><ul><li><a href="#tests-properties">Tests properties</a><ul><li><a href="#endpoint">$endpoint</a></li><li><a href="#auth">$auth</a></li><li><a href="#access">$access</a></li></ul></li><li><a href="#tests-functions">Tests functions</a><ul><li><a href="#make-call">makeCall</a></li><li><a href="#get-testing-user">getTestingUser</a></li></ul></li><li><a href="#faker">Faker</a></li><li><a href="#create-live-testing-data">Create live Testing Data</a></li><li><a href="#debugging-with-PsySH">Debugging with PsySH</a></li></ul><p>Apiato provides additional helper functions, on top of
the <a href="https://laravel.com/docs/http-tests" target="_blank" rel="noopener noreferrer">Laravel&#x27;s default Tests</a>, to make testing your API much faster and fun.</p><p>Writing functional tests, makes implementing, debugging and modifying a feature faster.</p><p>With Apiato you just prepare the data you want to send for your POST request, call the <code>makeCall()</code> function and start
asserting the response. Everything else is set for you. There are helper functions to create and prepare a testing user
with the right authorization (roles and permissions) for each request.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="tests-properties"></a>Tests properties<a class="hash-link" href="#tests-properties" title="Direct link to heading">#</a></h2><p>Some test helper functions read your test class properties, to perform their jobs. below we will see those properties
and who uses them:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="endpoint"></a>$endpoint<a class="hash-link" href="#endpoint" title="Direct link to heading">#</a></h3><p>The <code>$endpoint = &#x27;verb@uri&#x27;;</code> property is where you define the endpoints you are trying to access when calling
<code>$this-&gt;makeCall()</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">class RegisterUserTest extends ApiTestCase</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected string $endpoint = &#x27;post@register&#x27;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected bool $auth = false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected array $access = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;roles&#x27;       =&gt; &#x27;&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;permissions&#x27; =&gt; &#x27;&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ];</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function testRegisterNewUserWithCredentials()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // prepare your post data</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        $data = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;email&#x27;    =&gt; &#x27;john@doe.test&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;name&#x27;     =&gt; &#x27;John Doe&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;password&#x27; =&gt; &#x27;secret&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ];</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // send the HTTP request</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        $response = $this-&gt;makeCall($data);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // assert response status is correct</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;assertEquals(&#x27;200&#x27;, $response-&gt;getStatusCode());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ... add all your assertions</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="override-the-endpoint-property-value-in-some-test-functions"></a>Override the <code>endpoint</code> property value in some test functions<a class="hash-link" href="#override-the-endpoint-property-value-in-some-test-functions" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$this-&gt;endpoint(&#x27;get@myEndpoint&#x27;)-&gt;makeCall();</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="auth"></a>$auth<a class="hash-link" href="#auth" title="Direct link to heading">#</a></h3><p>The <code>$auth = false;</code> property defines if the endpoint you are trying to call requires authentication or not. By default
<code>$auth</code> is equal to true, also when not defined on your test class it will be defaulted to true.</p><p>When <code>$auth</code> is true, the <code>makeCall()</code> will create a testing user if none already found, and it will inject his access
token in the headers, before making the call.</p><p>So only use this property when your endpoint is not protected, for example the register and login tests.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="override-the-auth-property-value-in-some-test-functions"></a>Override the <code>auth</code> property value in some test functions<a class="hash-link" href="#override-the-auth-property-value-in-some-test-functions" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$response = $this-&gt;auth(false)-&gt;makeCall();</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="access"></a>$access<a class="hash-link" href="#access" title="Direct link to heading">#</a></h3><p>The <code>$access</code> property is where you define the permissions/roles that you need to give to your testing users in that
test class. So when using <code>$user = $this-&gt;getTestingUser();</code> it will automatically take all the roles and permissions
you gave him.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">protected $access = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;roles&#x27;         =&gt; &#x27;admin&#x27;, // or   [&#x27;client&#x27;, &#x27;admin&#x27;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;permissions&#x27;   =&gt; &#x27;delete-users&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">];</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="override-the-access-property-value-in-some-test-functions"></a>Override the <code>access</code> property value in some test functions<a class="hash-link" href="#override-the-access-property-value-in-some-test-functions" title="Direct link to heading">#</a></h4><p>Call the <code>getTestingUser</code> and pass roles and permissions as the second argument.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$this-&gt;getTestingUser(null, [&#x27;permissions&#x27; =&gt; &#x27;jump&#x27;, &#x27;roles&#x27; =&gt; &#x27;jumper&#x27;]);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Or you can call <code>getTestingUserWithoutAccess()</code> to get user without permissions and roles.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="tests-functions"></a>Tests functions<a class="hash-link" href="#tests-functions" title="Direct link to heading">#</a></h2><p>All the test helper functions are provided by traits are living inside <code>vendor/apiato/core/Traits/TestsTraits/PhpUnit/*</code> folder,and they are all
available for usage from every test class in your application.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="make-call"></a>makeCall<a class="hash-link" href="#make-call" title="Direct link to heading">#</a></h3><p><code>makeCall(array $data = [], array $headers = [])</code> is one of the most important helper functions for an API.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="usage"></a>Usage<a class="hash-link" href="#usage" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$response = $this-&gt;makeCall();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$response = $this-&gt;makeCall([</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;email&#x27;    =&gt; $userDetails[&#x27;email&#x27;],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;password&#x27; =&gt; $userDetails[&#x27;password&#x27;],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$response = $this-&gt;makeCall($data, $headers);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$response = $this-&gt;endpoint(&#x27;get@register&#x27;)-&gt;makeCall($data);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$response = $this-&gt;auth(false)-&gt;makeCall();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$response = $this-&gt;endpoint(&#x27;get@item/{id}&#x27;)-&gt;injectId($user-&gt;id)-&gt;makeCall();</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="get-testing-user"></a>getTestingUser<a class="hash-link" href="#get-testing-user" title="Direct link to heading">#</a></h3><p><code>getTestingUser($userDetails = null, $access = null)</code> is another very important helper function:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="usage-1"></a>Usage<a class="hash-link" href="#usage-1" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$user = $this-&gt;getTestingUser();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$user = $this-&gt;getTestingUser([</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;email&#x27;    =&gt; &#x27;hello@mail.test&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;name&#x27;     =&gt; &#x27;Hello&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;password&#x27; =&gt; &#x27;secret&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="faker"></a>Faker<a class="hash-link" href="#faker" title="Direct link to heading">#</a></h2><p>Just use it from any test: <code>$this-&gt;faker-&gt;name;</code></p><p>There&#x27;s an instance of faker in every class.</p><p>Just use it: <code>$this-&gt;faker-&gt;name;</code></p><p>See the <a href="/docs/10.x/optional-components/tests">Tests</a> Page, for more details about the Tests components.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="create-live-testing-data"></a>Create live Testing Data<a class="hash-link" href="#create-live-testing-data" title="Direct link to heading">#</a></h2><p>To test your app with some live testing data (like creating items in an inventory) you can use this feature to
automatically generate those data. This is also helpful for staging when real people are testing your app with some
testing data.</p><ol><li><p>Go to <code>app/Ship/Seeder/SeedTestingData.php</code> seeder class, and create your live testing data.</p></li><li><p>Run this command <code>php artisan apiato:seed-test</code></p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="debugging-with-PsySH"></a>Debugging with PsySH<a class="hash-link" href="#debugging-with-PsySH" title="Direct link to heading">#</a></h2><p>For better debugging and development, you can open a runtime developer console while executing your test.</p><p>Using <a href="http://psysh.org/" target="_blank" rel="noopener noreferrer">PsySH</a> (interactive debugger and REPL &quot;read-eval-print loop&quot; for PHP). <em>The package is
required by the Laravel Tinker Package.</em></p><p>To use it set the breakpoint <code>eval(\Psy\sh());</code> anywhere you want in any Actions, Controllers, Tasks... and run your
test normally.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apiato/documentation/tree/master/versioned_docs/version-10.x/miscellaneous/tests-helpers.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated on <b><time datetime="2021-10-28T05:28:52.000Z">10/28/2021</time></b> by <b>mohammad-alavi</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/10.x/optional-components/values"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Values</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/10.x/miscellaneous/tasks-scheduling"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tasks Scheduling ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tests-properties" class="table-of-contents__link">Tests properties</a><ul><li><a href="#endpoint" class="table-of-contents__link">$endpoint</a></li><li><a href="#auth" class="table-of-contents__link">$auth</a></li><li><a href="#access" class="table-of-contents__link">$access</a></li></ul></li><li><a href="#tests-functions" class="table-of-contents__link">Tests functions</a><ul><li><a href="#make-call" class="table-of-contents__link">makeCall</a></li><li><a href="#get-testing-user" class="table-of-contents__link">getTestingUser</a></li></ul></li><li><a href="#faker" class="table-of-contents__link">Faker</a></li><li><a href="#create-live-testing-data" class="table-of-contents__link">Create live Testing Data</a></li><li><a href="#debugging-with-PsySH" class="table-of-contents__link">Debugging with PsySH</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Getting Started</a></li><li class="footer__item"><a href="https://github.com/Mahmoudz/Porto#porto-software-architectural-pattern" target="_blank" rel="noopener noreferrer" class="footer__link-item">Porto Architecture</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/ryPcV4KM5k" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord Server<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apiato/apiato/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contributors</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/contribution-guide">Contribution Guide</a></li><li class="footer__item"><a href="https://github.com/apiato/apiato/blob/9.0/CODE_OF_CONDUCT.md" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Code of Conduct<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Sponsors</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/apiato/apiato#sponsors" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Our Sponsors<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opencollective.com/apiato" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Become a Sponsor<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2016 - 2022</div></div></div></footer></div>
<script src="/assets/js/runtime~main.195c27d3.js"></script>
<script src="/assets/js/main.0ad1a1c4.js"></script>
</body>
</html>