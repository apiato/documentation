"use strict";(self.webpackChunkapiato_documentation=self.webpackChunkapiato_documentation||[]).push([[20121],{63531:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>c,toc:()=>d});var t=i(74848),o=i(28453);const a={sidebar_position:1,title:"Documentation",tags:["package"]},s=void 0,c={id:"pacakges/documentation",title:"Documentation",description:"This package is installed by default with an Apiato fresh installation.",source:"@site/versioned_docs/version-13.x/pacakges/documentation.mdx",sourceDirName:"pacakges",slug:"/pacakges/documentation",permalink:"/docs/pacakges/documentation",draft:!1,unlisted:!1,editUrl:"https://github.com/apiato/documentation/tree/master/versioned_docs/version-13.x/pacakges/documentation.mdx",tags:[{inline:!0,label:"package",permalink:"/docs/tags/package"}],version:"13.x",lastUpdatedBy:"Mohammad Alavi",lastUpdatedAt:1746631e6,sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Documentation",tags:["package"]},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/docs/pacakges/"},next:{title:"Consulting",permalink:"/docs/consulting"}},r={},d=[{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"Publishing Configs",id:"publishing-configs",level:2},{value:"Usage",id:"usage",level:2},{value:"Write the DocBlocks",id:"write-the-docblocks",level:3},{value:"Generate the Documentation",id:"generate-the-documentation",level:3},{value:"Visit Documentation URL&#39;s",id:"visit-documentation-urls",level:3},{value:"Private Documentation Protection",id:"private-documentation-protection",level:2},{value:"Documentation Header Localization",id:"documentation-header-localization",level:2}];function l(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"This package is installed by default with an Apiato fresh installation."})}),"\n",(0,t.jsxs)(n.p,{children:["The Documentation Generator Container is a package that generates API documentation for your API Endpoints.\nIt uses ",(0,t.jsx)(n.a,{href:"https://apidocjs.com/",children:"ApiDocJs"})," to generate the documentation."]}),"\n",(0,t.jsxs)(n.p,{children:["It is recommended\nto read about the ",(0,t.jsx)(n.code,{children:"Public"})," and ",(0,t.jsx)(n.code,{children:"Private"})," ",(0,t.jsx)(n.a,{href:"/docs/components/main-components/routes#public-private-routes",children:"routes"}),"\nbefore using this package."]}),"\n",(0,t.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsxs)(n.p,{children:["This package depends on ",(0,t.jsx)(n.a,{href:"https://apidocjs.com/",children:"ApiDocJs"}),".\nMake sure to install it in the project directory by running:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"npm install apidoc\n"})}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"composer require apiato/documentation-generator-container\n"})}),"\n",(0,t.jsx)(n.h2,{id:"publishing-configs",children:"Publishing Configs"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"php artisan vendor:publish\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Config file will be placed at ",(0,t.jsx)(n.code,{children:"app/Ship/Configs/vendor-documentation.php"})]}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(n.h3,{id:"write-the-docblocks",children:"Write the DocBlocks"}),"\n",(0,t.jsxs)(n.p,{children:["Write the ",(0,t.jsx)(n.code,{children:"DocBlocks"})," for your API Endpoints in your Route files."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["For more info about the parameters check out ",(0,t.jsx)(n.a,{href:"https://apidocjs.com/#install",children:"ApiDocJs"})," documentation."]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:'/**\n * @apiGroup           Authentication\n * @apiName            UserLogin\n * @api                {post} /clients/web/login User Login\n * @apiDescription     Description Here....\n * @apiVersion         1.0.0\n * @apiPermission      none\n *\n * @apiHeader          Accept application/json\n *\n * @apiParam           {String}     email\n * @apiParam           {String}     password\n *\n * @apiSuccessExample  {json}       Success-Response:\n *   HTTP/1.1 200 OK\n *   {\n *     "data": {\n *       "id": "XbPW7awNkzl83LD6",\n *       "name": "Super Admin",\n *       "email": "admin@admin.com"\n *   }\n *\n * @apiErrorExample  {json}       Error-Response:\n *   {\n *      "message":"401 Credentials Incorrect.",\n *   }\n *\n * @apiErrorExample  {json}       Error-Response:\n *   {\n *      "message":"Invalid Input.",\n *      "errors":{\n *         "email":[\n *            "The email field is required."\n *         ]\n *      },\n *   }\n */\n\nuse App\\Containers\\AppSection\\Authentication\\UI\\API\\Controllers\\Controller;\nuse Illuminate\\Support\\Facades\\Route;\n\nRoute::post(\'clients/web/login\', Controller::class);\n'})}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsxs)(n.p,{children:["All the Endpoint ",(0,t.jsx)(n.code,{children:"DocBlocks"})," MUST be written inside Routes files, otherwise they won't be loaded."]})]}),"\n",(0,t.jsx)(n.h3,{id:"generate-the-documentation",children:"Generate the Documentation"}),"\n",(0,t.jsx)(n.p,{children:"You can generate the API documentation by running the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"php artisan apiato:apidoc\n"})}),"\n",(0,t.jsxs)(n.admonition,{title:"Error: ApiDoc not found",type:"info",children:[(0,t.jsxs)(n.p,{children:["If you get the ",(0,t.jsx)(n.code,{children:"apidoc not found"})," error,\nyou need to update the ",(0,t.jsx)(n.code,{children:"executable"})," path in the ",(0,t.jsx)(n.code,{children:"vendor-documentation.php"})," config file."]}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#publishing-configs",children:"Publish the configs"})}),"\n",(0,t.jsxs)(n.li,{children:["Edit the ",(0,t.jsx)(n.code,{children:"executable"})," path to ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$(npm bin)/apidoc"})})," or to however you access the ",(0,t.jsx)(n.code,{children:"apidoc"})," tool on your machine."]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"/*\n|--------------------------------------------------------------------------\n| Executable\n|--------------------------------------------------------------------------\n|\n| Specify how you run or access the `apidoc` tool on your machine.\n|\n*/\n\n'executable' => 'node_modules/.bin/apidoc',\n// 'executable' => 'apidoc',\n"})})]}),"\n",(0,t.jsx)(n.h3,{id:"visit-documentation-urls",children:"Visit Documentation URL's"}),"\n",(0,t.jsx)(n.p,{children:"Visit the documentation URLs as shown in your terminal:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Public (external) API at ",(0,t.jsx)(n.a,{href:"http://apiato.test/docs",children:"http://apiato.test/docs"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Private (internal) API at ",(0,t.jsx)(n.a,{href:"http://apiato.test/docs/private",children:"http://apiato.test/docs/private"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Don't forget to regenerate the documentation after making changes to the ",(0,t.jsx)(n.code,{children:"DocBlocks"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"private-documentation-protection",children:"Private Documentation Protection"}),"\n",(0,t.jsxs)(n.p,{children:["By default, this feature is ",(0,t.jsx)(n.strong,{children:"disabled"})," in local environment and ",(0,t.jsx)(n.strong,{children:"enabled"})," in production.",(0,t.jsx)(n.br,{}),"\n","To change this behavior, ",(0,t.jsx)(n.a,{href:"#publishing-configs",children:"Publish the configs"})," and change ",(0,t.jsx)(n.code,{children:"protect-private-docs"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Private documentations route is protected with the ",(0,t.jsx)(n.code,{children:"auth:web"})," middleware.\nYou can grant users access to the protected docs by updating ",(0,t.jsx)(n.code,{children:"access-private-docs-roles"})," and\n",(0,t.jsx)(n.code,{children:"access-private-docs-permission"})," values in documentation config.\nBy default, users need ",(0,t.jsx)(n.code,{children:"access-private-docs"})," permission to access private docs."]}),"\n",(0,t.jsx)(n.h2,{id:"documentation-header-localization",children:"Documentation Header Localization"}),"\n",(0,t.jsxs)(n.p,{children:["The documentation header is in English ",(0,t.jsx)(n.code,{children:"en"})," by default.\nTo see the documentation header in another language, you can change the locale in the ",(0,t.jsx)(n.code,{children:".env"})," file."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"APIDOC_LOCALE=ru\n"})}),"\n",(0,t.jsxs)(n.p,{children:["To see the list of supported locales, check the ",(0,t.jsx)(n.code,{children:"app/Containers/Vendor/Documentation/ApiDocJs/shared"})," folder.\nIf you want to add a new language, you can create a new file in the ",(0,t.jsx)(n.code,{children:"shared"})," folder and submit a PR."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>c});var t=i(96540);const o={},a=t.createContext(o);function s(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);