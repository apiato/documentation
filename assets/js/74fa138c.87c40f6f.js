"use strict";(self.webpackChunkapiato_documentation=self.webpackChunkapiato_documentation||[]).push([[80694],{57267:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var o=s(74848),t=s(28453);const r={sidebar_position:6,title:"Models",tags:["component","main-component","model","repository"]},i=void 0,a={id:"components/main-components/models",title:"Models",description:"Models are responsible for representing the data of the application",source:"@site/versioned_docs/version-13.x/components/main-components/models.md",sourceDirName:"components/main-components",slug:"/components/main-components/models",permalink:"/docs/components/main-components/models",draft:!1,unlisted:!1,editUrl:"https://github.com/apiato/documentation/tree/master/versioned_docs/version-13.x/components/main-components/models.md",tags:[{inline:!0,label:"component",permalink:"/docs/tags/component"},{inline:!0,label:"main-component",permalink:"/docs/tags/main-component"},{inline:!0,label:"model",permalink:"/docs/tags/model"},{inline:!0,label:"repository",permalink:"/docs/tags/repository"}],version:"13.x",lastUpdatedBy:"Mohammad Alavi",lastUpdatedAt:1746631e6,sidebarPosition:6,frontMatter:{sidebar_position:6,title:"Models",tags:["component","main-component","model","repository"]},sidebar:"tutorialSidebar",previous:{title:"Tasks",permalink:"/docs/components/main-components/tasks"},next:{title:"Transformers",permalink:"/docs/components/main-components/transformers"}},l={},d=[{value:"Definition and Principles",id:"definition-and-principles",level:2},{value:"Rules",id:"rules",level:2},{value:"Folder Structure",id:"folder-structure",level:2},{value:"Code Example",id:"code-example",level:2},{value:"Resource Key",id:"resource-key",level:2},{value:"Custom Models",id:"custom-models",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://laravel.com/docs/eloquent",children:"Models"})," are responsible for representing the data of the application\nand providing an abstraction for interacting with that data.\nThey encapsulate the business logic and rules associated with the data,\nas well as facilitate the communication with the underlying database."]}),"\n",(0,o.jsxs)(n.p,{children:["To generate new models, you may use the ",(0,o.jsx)(n.code,{children:"apiato:make:model"})," interactive command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"php artisan apiato:make:model\n"})}),"\n",(0,o.jsx)(n.h2,{id:"definition-and-principles",children:"Definition and Principles"}),"\n",(0,o.jsxs)(n.p,{children:["Read ",(0,o.jsx)(n.a,{href:"https://mahmoudz.github.io/Porto/docs/category/main-components",children:(0,o.jsx)(n.strong,{children:"Porto SAP Documentation (#Models)"})}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"rules",children:"Rules"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["All Models:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["MUST be placed in the ",(0,o.jsx)(n.code,{children:"app/Containers/{Section}/{Container}/Models"})," directory."]}),"\n",(0,o.jsxs)(n.li,{children:["MUST extend the ",(0,o.jsx)(n.code,{children:"App\\Ship\\Parents\\Models\\Model"})," class.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The parent extension SHOULD be aliased as ",(0,o.jsx)(n.code,{children:"ParentModel"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["All User Models MUST extend the ",(0,o.jsx)(n.code,{children:"App\\Ship\\Parents\\Models\\UserModel"})," class.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The parent extension SHOULD be aliased as ",(0,o.jsx)(n.code,{children:"ParentUserModel"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"folder-structure",children:"Folder Structure"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-markdown",children:"app\n\u2514\u2500\u2500 Containers\n    \u2514\u2500\u2500 Section\n        \u2514\u2500\u2500 Container\n            \u2514\u2500\u2500 Models\n                \u251c\u2500\u2500 Model.php\n                \u2514\u2500\u2500 ...\n"})}),"\n",(0,o.jsx)(n.h2,{id:"code-example",children:"Code Example"}),"\n",(0,o.jsx)(n.p,{children:"Models are defined exactly as you would define them in Laravel."}),"\n",(0,o.jsx)(n.h2,{id:"resource-key",children:"Resource Key"}),"\n",(0,o.jsx)(n.p,{children:"The resource key is a string that helps identify the resource type.\nTypically, it is used in the JSON API response to indicate the type of resource being returned."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"use App\\Containers\\AppSection\\User\\Models\\User;\nuse App\\Ship\\Parents\\Transformers\\Transformer as ParentTransformer;\n\nclass UserTransformer extends ParentTransformer\n{\n    public function transform(User $user)\n    {\n        return [\n            'type' => $user->getResourceKey(),\n            'id' => $user->getHashedKey(),\n            'name' => $user->name,\n        ];\n    }\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["A resource key is automatically generated based on the model's class name,\nbut you can customize it by overriding the ",(0,o.jsx)(n.code,{children:"getResourceKey"})," method:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"use Apiato\\Http\\Resources\\ResourceKeyAware;\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass User extends Model implements ResourceKeyAware\n{\n    public function getResourceKey(): string\n    {\n        return 'User';\n    }\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"custom-models",children:"Custom Models"}),"\n",(0,o.jsxs)(n.p,{children:["If your model does not extend the ",(0,o.jsx)(n.code,{children:"App\\Ship\\Parents\\Models\\Model"})," or the ",(0,o.jsx)(n.code,{children:"App\\Ship\\Parents\\Models\\UserModel"})," class,\nit is essential to implement the ",(0,o.jsx)(n.code,{children:"ResourceKeyAware"})," interface\nand use the ",(0,o.jsx)(n.code,{children:"InteractsWithApiato"})," trait in your model.\nBy doing so, your model will benefit from various functionalities provided by the trait,\nsuch as hash ids and other features necessary for proper integration with the framework."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"use Apiato\\Core\\Models\\InteractsWithApiato;\nuse Apiato\\Http\\Resources\\ResourceKeyAware;\n\nclass Demo implements ResourceKeyAware\n{\n    use InteractsWithApiato;\n}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>a});var o=s(96540);const t={},r=o.createContext(t);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);