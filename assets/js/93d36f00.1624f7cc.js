"use strict";(self.webpackChunkapiato_documentation=self.webpackChunkapiato_documentation||[]).push([[6372],{28453:(n,e,o)=>{o.d(e,{R:()=>a,x:()=>t});var s=o(96540);const i={},l=s.createContext(i);function a(n){const e=s.useContext(l);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),s.createElement(l.Provider,{value:e},n.children)}},67703:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>r,contentTitle:()=>t,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"optional-components/commands","title":"Commands","description":"* Definition","source":"@site/versioned_docs/version-9.x/optional-components/commands.md","sourceDirName":"optional-components","slug":"/optional-components/commands","permalink":"/docs/9.x/optional-components/commands","draft":false,"unlisted":false,"editUrl":"https://github.com/apiato/documentation/tree/master/versioned_docs/version-9.x/optional-components/commands.md","tags":[],"version":"9.x","lastUpdatedBy":"Moslem Deris","lastUpdatedAt":1618096631000,"frontMatter":{"title":"Commands"},"sidebar":"docs","previous":{"title":"Configs","permalink":"/docs/9.x/optional-components/configs"},"next":{"title":"Jobs","permalink":"/docs/9.x/optional-components/jobs"}}');var i=o(74848),l=o(28453);const a={title:"Commands"},t=void 0,r={},c=[{value:"Definition",id:"definition",level:3},{value:"Principles",id:"principles",level:3},{value:"Rules",id:"rules",level:3},{value:"Folder Structure",id:"folder-structure",level:3},{value:"Code Samples",id:"code-samples",level:3},{value:"Schedule Commands Execution",id:"Schedule-Commands-Execution",level:3},{value:"Define Consoles Routes",id:"define-consoles-routes",level:3}];function d(n){const e={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#definition",children:"Definition"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#principles",children:"Principles"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#rules",children:"Rules"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#folder-structure",children:"Folder Structure"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#code-samples",children:"Code Samples"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#Schedule-Commands-Execution",children:"Schedule Commands Execution"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#define-consoles-routes",children:"Define Consoles Routes"})}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"definition",children:"Definition"}),"\n",(0,i.jsx)(e.p,{children:"Commands:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"is a laravel artisan command. Laravel has its own default commands, and you create your own as well."}),"\n",(0,i.jsx)(e.li,{children:"provides a way to interact with the Laravel app."}),"\n",(0,i.jsx)(e.li,{children:'a Command can be scheduled by a Task scheduler, like Cron Job or by the Laravel built-in wrapper of the Cron Job "laravel scheduler".'}),"\n",(0,i.jsx)(e.li,{children:"Commands could be Closure based or Classes."}),"\n",(0,i.jsx)(e.li,{children:'"dispatch" is the term that is usually used to call a Command.'}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"principles",children:"Principles"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Containers MAY or MAY NOT have one or more Commands."}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Every Command SHOULD call an Action to perform its job, and should not container any business logic."}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Ship may contain Application general Commands."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"rules",children:"Rules"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["All Commands MUST extend from ",(0,i.jsx)(e.code,{children:"App\\Ship\\Parents\\Commands\\ConsoleCommand"}),"."]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"folder-structure",children:"Folder Structure"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:" - app\n    - Containers\n        - {container-name}\n            - UI\n                - CLI\n                    - Commands\n                        - SayHelloCommand.php\n                        - ...\n    - Ship\n        - Commands\n            - GeneralCommand.php\n            - ...\n"})}),"\n",(0,i.jsx)(e.h3,{id:"code-samples",children:"Code Samples"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Example: a simple Command"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-php",children:"<?php\n\nnamespace App\\Containers\\Welcome\\UI\\CLI\\Commands;\n\nuse App\\Ship\\Parents\\Commands\\ConsoleCommand;\n\n/**\n * Class SayWelcomeCommand\n *\n * @author  Mahmoud Zalt  <mahmoud@zalt.me>\n */\nclass SayWelcomeCommand extends ConsoleCommand\n{\n\n    /**\n     * The name and signature of the console command.\n     *\n     * @var string\n     */\n    protected $signature = 'apiato:welcome';\n\n    /**\n     * The console command description.\n     *\n     * @var string\n     */\n    protected $description = 'Just saying Welcome.';\n\n    /**\n     * Create a new command instance.\n     *\n     * @return void\n     */\n    public function __construct()\n    {\n        parent::__construct();\n    }\n\n    /**\n     * Execute the console command.\n     *\n     * @return void\n     */\n    public function handle()\n    {\n        $this->info('Welcome to apiato :)'); // green color\n        // $this->line('Welcome to apiato :)'); // normal color\n    }\n}\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Usage from CLI (Terminal):"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"php artisan apiato:welcome\n"})}),"\n",(0,i.jsx)(e.h3,{id:"Schedule-Commands-Execution",children:"Schedule Commands Execution"}),"\n",(0,i.jsxs)(e.p,{children:["To Schedule the execution of a Command checkout the ",(0,i.jsx)(e.a,{href:".././miscellaneous/tasks-scheduling",children:"Tasks Scheduling"})," page."]}),"\n",(0,i.jsx)(e.h3,{id:"define-consoles-routes",children:"Define Consoles Routes"}),"\n",(0,i.jsxs)(e.p,{children:["To define Console route go to ",(0,i.jsx)(e.code,{children:"app/Ship/Commands/Routes.php"}),"."]})]})}function m(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}}}]);