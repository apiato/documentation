"use strict";(self.webpackChunkapiato_documentation=self.webpackChunkapiato_documentation||[]).push([[56823],{79288:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>a});var r=o(74848),t=o(28453);const l={sidebar_position:2,title:"Controllers",tags:["component","main-component","controller","action","view","request","route","transformer"]},s=void 0,i={id:"components/main-components/controllers",title:"Controllers",description:"Controllers are tasked with two primary responsibilities:",source:"@site/docs/components/main-components/controllers.md",sourceDirName:"components/main-components",slug:"/components/main-components/controllers",permalink:"/docs/next/components/main-components/controllers",draft:!1,unlisted:!1,editUrl:"https://github.com/apiato/documentation/tree/master/docs/components/main-components/controllers.md",tags:[{inline:!0,label:"component",permalink:"/docs/next/tags/component"},{inline:!0,label:"main-component",permalink:"/docs/next/tags/main-component"},{inline:!0,label:"controller",permalink:"/docs/next/tags/controller"},{inline:!0,label:"action",permalink:"/docs/next/tags/action"},{inline:!0,label:"view",permalink:"/docs/next/tags/view"},{inline:!0,label:"request",permalink:"/docs/next/tags/request"},{inline:!0,label:"route",permalink:"/docs/next/tags/route"},{inline:!0,label:"transformer",permalink:"/docs/next/tags/transformer"}],version:"current",lastUpdatedBy:"Mohammad Alavi",lastUpdatedAt:1746631e6,sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Controllers",tags:["component","main-component","controller","action","view","request","route","transformer"]},sidebar:"tutorialSidebar",previous:{title:"Routes",permalink:"/docs/next/components/main-components/routes"},next:{title:"Requests",permalink:"/docs/next/components/main-components/requests"}},c={},a=[{value:"Definition and Principles",id:"definition-and-principles",level:2},{value:"Rules",id:"rules",level:2},{value:"Folder Structure",id:"folder-structure",level:2},{value:"Code Example",id:"code-example",level:2},{value:"API Controller",id:"api-controller",level:4},{value:"Web Controller",id:"web-controller",level:4}];function d(e){const n={a:"a",code:"code",h2:"h2",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://laravel.com/docs/controllers",children:"Controllers"})," are tasked with two primary responsibilities:\nserving the requested data and constructing the corresponding response."]}),"\n",(0,r.jsxs)(n.p,{children:["To generate new controllers,\nyou may use the ",(0,r.jsx)(n.code,{children:"apiato:make:controller"})," interactive command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"php artisan apiato:make:controller\n"})}),"\n",(0,r.jsx)(n.h2,{id:"definition-and-principles",children:"Definition and Principles"}),"\n",(0,r.jsxs)(n.p,{children:["Read ",(0,r.jsx)(n.a,{href:"https://mahmoudz.github.io/Porto/docs/category/main-components",children:(0,r.jsx)(n.strong,{children:"Porto SAP Documentation (#Controllers)"})}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"rules",children:"Rules"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["All API Controllers:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["MUST be placed in the ",(0,r.jsx)(n.code,{children:"app/Containers/{Section}/{Container}/UI/API/Controllers"})," directory."]}),"\n",(0,r.jsxs)(n.li,{children:["MUST extend the ",(0,r.jsx)(n.code,{children:"App\\Ship\\Parents\\Controllers\\ApiController"})," class."]}),"\n",(0,r.jsxs)(n.li,{children:["MUST format their responses via a ",(0,r.jsx)(n.a,{href:"/docs/next/components/main-components/transformers",children:"Transformer"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["All Web Controllers:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["MUST be placed in the ",(0,r.jsx)(n.code,{children:"app/Containers/{Section}/{Container}/UI/WEB/Controllers"})," directory."]}),"\n",(0,r.jsxs)(n.li,{children:["MUST extend the ",(0,r.jsx)(n.code,{children:"App\\Ship\\Parents\\Controllers\\WebController"})," class."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Controllers:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["MUST only call the ",(0,r.jsx)(n.code,{children:"run"})," or ",(0,r.jsx)(n.code,{children:"transactionalRun"})," method of Actions."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"folder-structure",children:"Folder Structure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"app\n\u2514\u2500\u2500 Containers\n    \u2514\u2500\u2500 Section\n        \u2514\u2500\u2500 Container\n            \u2514\u2500\u2500 UI\n                \u251c\u2500\u2500 API\n                \u2502   \u2514\u2500\u2500 Controllers\n                \u2502       \u251c\u2500\u2500 ControllerA.php\n                \u2502       \u251c\u2500\u2500 ControllerB.php\n                \u2502       \u2514\u2500\u2500 ...\n                \u2514\u2500\u2500 WEB\n                    \u2514\u2500\u2500 Controllers\n                        \u251c\u2500\u2500 ControllerA.php\n                        \u251c\u2500\u2500 ControllerB.php\n                        \u2514\u2500\u2500 ...\n"})}),"\n",(0,r.jsx)(n.h2,{id:"code-example",children:"Code Example"}),"\n",(0,r.jsx)(n.h4,{id:"api-controller",children:"API Controller"}),"\n",(0,r.jsxs)(n.p,{children:["You can use the ",(0,r.jsx)(n.a,{href:"/docs/next/the-basics/response",children:"Response"})," facade to create a new response object."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"use Apiato\\Support\\Facades\\Response;\nuse App\\Ship\\Parents\\Controllers\\ApiController;\n\nclass Controller extends ApiController\n{\n    public function __invoke(SampleRequest $request, SampleAction $sampleAction)\n    {\n        $sample = $sampleAction->run($request);\n        \n        return Response::create($sample, SampleTransformer::class);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"web-controller",children:"Web Controller"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"use App\\Ship\\Parents\\Controllers\\WebController;\n\nclass Controller extends WebController\n{\n    public function show()\n    {\n        return view('sectionName@containerName::view-name');\n    }\n}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>i});var r=o(96540);const t={},l=r.createContext(t);function s(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);