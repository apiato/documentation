"use strict";(self.webpackChunkapiato_documentation=self.webpackChunkapiato_documentation||[]).push([[3673],{71185:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var i=s(74848),r=s(28453);const t={title:"Tasks"},o=void 0,a={id:"main-components/tasks",title:"Tasks",description:"- Definition & Principles",source:"@site/versioned_docs/version-9.x/main-components/tasks.md",sourceDirName:"main-components",slug:"/main-components/tasks",permalink:"/docs/9.x/main-components/tasks",draft:!1,unlisted:!1,editUrl:"https://github.com/apiato/documentation/tree/master/versioned_docs/version-9.x/main-components/tasks.md",tags:[],version:"9.x",lastUpdatedBy:"Moslem Deris",lastUpdatedAt:1618096631e3,frontMatter:{title:"Tasks"},sidebar:"docs",previous:{title:"Actions",permalink:"/docs/9.x/main-components/actions"},next:{title:"Models",permalink:"/docs/9.x/main-components/models"}},c={},d=[{value:"Definition &amp; Principles",id:"definition-principles",level:3},{value:"Rules",id:"rules",level:3},{value:"Folder Structure",id:"folder-structure",level:3},{value:"Code Sample",id:"code-sample",level:3}];function l(n){const e={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#definition-principles",children:"Definition & Principles"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#rules",children:"Rules"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#folder-structure",children:"Folder Structure"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#code-sample",children:"Code Sample"})}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"definition-principles",children:"Definition & Principles"}),"\n",(0,i.jsxs)(e.p,{children:["Read from the ",(0,i.jsx)(e.a,{href:"https://github.com/Mahmoudz/Porto#Tasks",children:(0,i.jsx)(e.strong,{children:"Porto SAP Documentation (#Tasks)"})}),"."]}),"\n",(0,i.jsx)(e.h3,{id:"rules",children:"Rules"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["All Tasks MUST extend from ",(0,i.jsx)(e.code,{children:"App\\Ship\\Parents\\Tasks\\Task"}),"."]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"folder-structure",children:"Folder Structure"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:" - app\n    - Containers\n        - {container-name}\n            - Tasks\n                - ConfirmUserEmailTask.php\n                - GenerateEmailConfirmationUrlTask.php\n                - SendConfirmationEmailTask.php\n                - ValidateConfirmationCodeTask.php\n                - SetUserEmailTask.php\n                - ...\n"})}),"\n",(0,i.jsx)(e.h3,{id:"code-sample",children:"Code Sample"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Find User Task by ID:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-php",children:"<?php\n\nnamespace App\\Containers\\User\\Tasks;\n\nuse App\\Containers\\User\\Contracts\\UserRepositoryInterface;\nuse App\\Ship\\Parents\\Tasks\\Task;\nuse Exception;\n\nclass FindUserByIdTask extends Task\n{\n    private $userRepository;\n\n    public function __construct(UserRepositoryInterface $userRepository)\n    {\n        $this->userRepository = $userRepository;\n    }\n\n    public function run($id)\n    {\n        try {\n            $user = $this->userRepository->find($id);\n        } catch (Exception $e) {\n            throw new UserNotFoundException();\n        }\n\n        return $user;\n    }\n\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Tasks usage from an Action:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-php",children:"<?php\n\nnamespace App\\Containers\\Email\\Actions;\n\nuse App\\Containers\\Email\\Tasks\\ConfirmUserEmailTask;\nuse App\\Containers\\Email\\Tasks\\ValidateConfirmationCodeTask;\nuse App\\Containers\\User\\Tasks\\FindUserByIdTask;\nuse App\\Ship\\Parents\\Actions\\Action;\n\nclass ValidateUserEmailByConfirmationCodeAction extends Action\n{\n    private $validateConfirmationCodeTask;\n\n    private $findUserByIdTask;\n\n    private $confirmUserEmailTask;\n\n    public function __construct(\n        ValidateConfirmationCodeTask $validateConfirmationCodeTask,\n        FindUserByIdTask $findUserByIdTask,\n        ConfirmUserEmailTask $confirmUserEmailTask\n    ) {\n        $this->validateConfirmationCodeTask = $validateConfirmationCodeTask;\n        $this->findUserByIdTask = $findUserByIdTask;\n        $this->confirmUserEmailTask = $confirmUserEmailTask;\n    }\n\n    public function run($userId, $code)\n    {\n        $this->validateConfirmationCodeTask->run($userId, $code);\n        $user = $this->findUserByIdTask->run($userId);\n        $this->confirmUserEmailTask->run($user);\n        ...\n    }\n}\n\n"})})]})}function p(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>o,x:()=>a});var i=s(96540);const r={},t=i.createContext(r);function o(n){const e=i.useContext(t);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:o(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);