"use strict";(self.webpackChunkapiato_documentation=self.webpackChunkapiato_documentation||[]).push([[88121],{28453:(e,s,n)=>{n.d(s,{R:()=>p,x:()=>o});var t=n(96540);const i={},a=t.createContext(i);function p(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:p(e.components),t.createElement(a.Provider,{value:s},e.children)}},73674:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>p,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"the-basics/apps","title":"Apps","description":"When building APIs, you may need to accommodate multiple apps, each with distinct URLs. For instance, it is common to have separate web and mobile applications, each requiring unique verification and reset password URLs.","source":"@site/versioned_docs/version-13.x/the-basics/apps.md","sourceDirName":"the-basics","slug":"/the-basics/apps","permalink":"/docs/the-basics/apps","draft":false,"unlisted":false,"editUrl":"https://github.com/apiato/documentation/tree/master/versioned_docs/version-13.x/the-basics/apps.md","tags":[{"inline":true,"label":"the-basics","permalink":"/docs/tags/the-basics"},{"inline":true,"label":"apps","permalink":"/docs/tags/apps"}],"version":"13.x","lastUpdatedBy":"Mohammad Alavi","lastUpdatedAt":1746631000000,"sidebarPosition":10,"frontMatter":{"sidebar_position":10,"title":"Apps","tags":["the-basics","apps"]},"sidebar":"tutorialSidebar","previous":{"title":"Values","permalink":"/docs/components/optional-components/values"},"next":{"title":"Response","permalink":"/docs/the-basics/response"}}');var i=n(74848),a=n(28453);const p={sidebar_position:10,title:"Apps",tags:["the-basics","apps"]},o=void 0,c={},r=[{value:"Creating an App",id:"creating-an-app",level:2},{value:"Using the App",id:"using-the-app",level:2},{value:"Specifying the App in API Requests",id:"specifying-the-app-in-api-requests",level:2}];function d(e){const s={code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"When building APIs, you may need to accommodate multiple apps, each with distinct URLs. For instance, it is common to have separate web and mobile applications, each requiring unique verification and reset password URLs."}),"\n",(0,i.jsxs)(s.p,{children:["Apiato come with a predefined ",(0,i.jsx)(s.code,{children:"web"})," app, but you can create additional apps as needed."]}),"\n",(0,i.jsx)(s.h2,{id:"creating-an-app",children:"Creating an App"}),"\n",(0,i.jsxs)(s.p,{children:["Create a class that implements the ",(0,i.jsx)(s.code,{children:"Apiato\\Ship\\Apps\\App"})," interface, then register it in the ",(0,i.jsx)(s.code,{children:"apiato.php"})," config file."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-php",children:"'apps' => [\n    'web' => [\n        'class' => \\App\\Ship\\Apps\\Web::class,\n        'url' => env('WEB_APP_URL', 'https://myapp.com'),\n    ],\n    'mobile' => [\n        'class' => \\App\\Ship\\Apps\\Mobile::class,\n        'url' => env('MOBILE_APP_URL', 'https://myapp.test'),\n    ],\n],\n"})}),"\n",(0,i.jsxs)(s.p,{children:["In this example, we have two apps: ",(0,i.jsx)(s.code,{children:"web"})," and ",(0,i.jsx)(s.code,{children:"mobile"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"url"})," key specifies the base URL for each app. You can use environment variables to set the URLs, which allows you to easily change them in different environments (e.g., local, staging, production)."]}),"\n",(0,i.jsx)(s.h2,{id:"using-the-app",children:"Using the App"}),"\n",(0,i.jsxs)(s.p,{children:["Retrieve the current app instance with ",(0,i.jsx)(s.code,{children:"\\App\\Ship\\Apps\\AppFactory::current()"}),". The returned instance includes methods to get the base URL, verify email URL, and reset password URL."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-php",children:"$app = AppFactory::current();\n\n$app->url();\n$app->verifyEmailUrl();\n$app->resetPasswordUrl();\n"})}),"\n",(0,i.jsx)(s.h2,{id:"specifying-the-app-in-api-requests",children:"Specifying the App in API Requests"}),"\n",(0,i.jsxs)(s.p,{children:["Include an ",(0,i.jsx)(s.code,{children:"App-Identifier"})," header to specify which app to use during API requests. For example, to choose the ",(0,i.jsx)(s.code,{children:"web"})," app, set:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'-H "App-Identifier: web"\n'})}),"\n",(0,i.jsxs)(s.p,{children:["The API will then generate links (such as verification or password reset) based on the ",(0,i.jsx)(s.code,{children:"web"})," configuration."]})]})}function l(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);