"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5828],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,h=d["".concat(s,".").concat(m)]||d[m]||p[m]||i;return n?a.createElement(h,o(o({ref:t},u),{},{components:n})):a.createElement(h,o({ref:t},u))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6378:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var a=n(87462),r=(n(67294),n(3905));const i={sidebar_position:2,title:"Best Practices"},o=void 0,l={unversionedId:"getting-started/best-practices",id:"getting-started/best-practices",title:"Best Practices",description:"REST APIs are one of the most common kinds of web interfaces available today.",source:"@site/docs/getting-started/best-practices.md",sourceDirName:"getting-started",slug:"/getting-started/best-practices",permalink:"/docs/next/getting-started/best-practices",draft:!1,editUrl:"https://github.com/apiato/documentation/tree/master/docs/getting-started/best-practices.md",tags:[],version:"current",lastUpdatedBy:"Mohammad Alavi",lastUpdatedAt:1697549732,formattedLastUpdatedAt:"Oct 17, 2023",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Best Practices"},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/docs/next/getting-started/installation"},next:{title:"Customized Laravel Components",permalink:"/docs/next/getting-started/customized-laravel-components"}},s={},c=[{value:"What Is A RESTful API?",id:"what-is-a-restful-api",level:2},{value:"Accept And Respond With JSON",id:"accept-and-respond-with-json",level:2},{value:"HTTP Methods Usage In RESTful API&#39;s",id:"http-methods-usage-in-restful-apis",level:2},{value:"General Principles For HTTP Methods",id:"general-principles-for-http-methods",level:2},{value:"General Guidelines And Principles For RESTful URLs",id:"general-guidelines-and-principles-for-restful-urls",level:2},{value:"Use Logical Nesting On Endpoints",id:"use-logical-nesting-on-endpoints",level:2},{value:"Good URL Examples",id:"good-url-examples",level:2},{value:"Handle Errors Gracefully And Return Standard Error Codes",id:"handle-errors-gracefully-and-return-standard-error-codes",level:2},{value:"Naming Conventions For Routes &amp; Actions",id:"naming-conventions-for-routes-and-actions",level:2}],u={toc:c},d="wrapper";function p(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"REST APIs are one of the most common kinds of web interfaces available today.\nThey allow various clients, including browser apps, to communicate with services via the REST API.\nTherefore, it\u2019s very important to design REST APIs properly so that we won\u2019t run into problems down the road.\nWe have to take into account security, performance, and ease of use for API consumers."),(0,r.kt)("p",null,"Otherwise, we create problems for clients that use our APIs,\nwhich isn\u2019t pleasant and detracts people from using our API.\nIf we don\u2019t follow commonly accepted conventions,\nthen we confuse the maintainers of the API and the clients\nthat use them since it is different from what everyone expects."),(0,r.kt)("p",null,"In this article, we'll look at how to design REST APIs to be easy to understand for anyone consuming them, future-proof,\nand secure and fast since they serve data to clients that may be confidential."),(0,r.kt)("h2",{id:"what-is-a-restful-api"},"What Is A RESTful API?"),(0,r.kt)("p",null,"A REST API is an application programming interface architecture style\nthat conforms to specific architectural constraints,\nlike stateless communication and cacheable data.\nIt is not a protocol or standard.\nWhile REST APIs can be accessed through a number of communication protocols, most commonly, they are called over HTTPS,\nso the guidelines below apply to REST API endpoints that will be called over the internet."),(0,r.kt)("h2",{id:"accept-and-respond-with-json"},"Accept And Respond With JSON"),(0,r.kt)("p",null,"Even though ",(0,r.kt)("a",{parentName:"p",href:"https://htmx.org/essays/how-did-rest-come-to-mean-the-opposite-of-rest/"},"some people think REST should only return hypertext"),"\n(including ",(0,r.kt)("a",{parentName:"p",href:"https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven"},"Roy Fielding")," who created the term),\nREST APIs should accept JSON for request payload and also send responses to JSON.\nJSON is the standard for transferring data.\nAlmost every networked technology can use it:\nJavaScript has built-in methods to encode and decode JSON either through the Fetch API or another HTTP client.\nServer-side technologies have libraries that can decode JSON without doing much work."),(0,r.kt)("h2",{id:"http-methods-usage-in-restful-apis"},"HTTP Methods Usage In RESTful API's"),(0,r.kt)("p",null,"The action should be indicated by the HTTP request method that we are making."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"GET: retrieve a resource."),(0,r.kt)("li",{parentName:"ul"},"POST: create a new resource."),(0,r.kt)("li",{parentName:"ul"},"PUT: update a resource (providing the entire resource)."),(0,r.kt)("li",{parentName:"ul"},"PATCH: update a resource (providing only changed attributes)."),(0,r.kt)("li",{parentName:"ul"},"DELETE: remove a resource.")),(0,r.kt)("p",null,"The verbs map to ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Create,_read,_update_and_delete"},"CRUD")," operations."),(0,r.kt)("h2",{id:"general-principles-for-http-methods"},"General Principles For HTTP Methods"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Don't ever use GET to alter state; to prevent Googlebot from corrupting your data. And use GET as much as possible."),(0,r.kt)("li",{parentName:"ul"},"Don't use PUT unless you are updating an entire resource. And unless you can also legitimately do a GET on the same URI."),(0,r.kt)("li",{parentName:"ul"},"Don't use POST to retrieve information that is long-lived or that might be reasonable to cache."),(0,r.kt)("li",{parentName:"ul"},"Don't perform an operation that is not idempotent with PUT."),(0,r.kt)("li",{parentName:"ul"},"Use GET for things like calculations, unless your input is large, in which case use POST."),(0,r.kt)("li",{parentName:"ul"},"Use POST in preference to PUT when in doubt."),(0,r.kt)("li",{parentName:"ul"},"Use POST whenever you have to do something that feels RPC-like."),(0,r.kt)("li",{parentName:"ul"},"Use PUT for classes of resources that are larger or hierarchical."),(0,r.kt)("li",{parentName:"ul"},"Use DELETE in preference to POST to remove resources.")),(0,r.kt)("h2",{id:"general-guidelines-and-principles-for-restful-urls"},"General Guidelines And Principles For RESTful URLs"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A URL identifies a resource."),(0,r.kt)("li",{parentName:"ul"},"URLs should include nouns, not verbs."),(0,r.kt)("li",{parentName:"ul"},"Use plural nouns only for consistency (no singular nouns)."),(0,r.kt)("li",{parentName:"ul"},"Use HTTP verbs (GET, POST, PUT, PATCH, DELETE) to operate on the collections and elements."),(0,r.kt)("li",{parentName:"ul"},"You should not need to go deeper than resource/identifier/resource."),(0,r.kt)("li",{parentName:"ul"},"Put the version number at the base of your URL, for example ",(0,r.kt)("inlineCode",{parentName:"li"},"http://api.apiato.test/v1/path/to/resource"),"."),(0,r.kt)("li",{parentName:"ul"},"If input data changes the logic of the endpoint, it should be passed in the URL. If not, it can go in the header. e.g., Auth Token."),(0,r.kt)("li",{parentName:"ul"},"Don't use query parameters to alter state."),(0,r.kt)("li",{parentName:"ul"},"Don't use mixed-case paths if you can help it; lowercase is best."),(0,r.kt)("li",{parentName:"ul"},"Use hyphens to delimit words in the URIs."),(0,r.kt)("li",{parentName:"ul"},"Don't use implementation-specific extensions in your URIs (.php, .py, .pl, etc.)"),(0,r.kt)("li",{parentName:"ul"},"Limit your URI space as much as possible. And keep path segments short."),(0,r.kt)("li",{parentName:"ul"},"Don't put metadata in the body of a response that should be in a header")),(0,r.kt)("h2",{id:"use-logical-nesting-on-endpoints"},"Use Logical Nesting On Endpoints"),(0,r.kt)("p",null,"When designing endpoints, it makes sense to group those that contain associated information.\nThat is, if one object can contain another object, you should design the endpoint to reflect that.\nThis is good practice regardless of whether your data is structured like this in your database.\nIn fact,\nit may be advisable to avoid\nmirroring your database structure in your endpoints to avoid giving attackers unnecessary information."),(0,r.kt)("p",null,"For example, if we want an endpoint to get the comments for a news article,\nwe should append the ",(0,r.kt)("inlineCode",{parentName:"p"},"/comments")," path to the end of the ",(0,r.kt)("inlineCode",{parentName:"p"},"/articles")," path."),(0,r.kt)("h2",{id:"good-url-examples"},"Good URL Examples"),(0,r.kt)("p",null,"With the two principles we discussed above in mind, let\u2019s look at some examples of good URLs."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Get all Articles:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles")))),(0,r.kt)("li",{parentName:"ul"},"Find a single Article by its unique identifier (ID):",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles/:articleId")))),(0,r.kt)("li",{parentName:"ul"},"Find/Search Articles by one or more fields:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles?search=author:john")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles?search=author:john;color:white")))),(0,r.kt)("li",{parentName:"ul"},"Order and Sort query result:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles?orderBy=created_at&sortedBy=desc")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles?search=author:john&orderBy=created_at&sortedBy=desc")))),(0,r.kt)("li",{parentName:"ul"},"Specify optional fields:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles?filter=id;title;status")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles/:articleId?filter=id;title;status")))),(0,r.kt)("li",{parentName:"ul"},"Get all Comments belonging to an Article:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles/:articleId/comments")))),(0,r.kt)("li",{parentName:"ul"},"Include objects relationship (Comments/author) with the Article response:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles/:articleId?include=comments")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles/:articleId?include=comments,author")))),(0,r.kt)("li",{parentName:"ul"},"Create new Article:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles")))),(0,r.kt)("li",{parentName:"ul"},"Add new Comment to an Article:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/articles/:articleId/comments"))))),(0,r.kt)("p",null,"In the code above, we use the GET method on the path ",(0,r.kt)("inlineCode",{parentName:"p"},"/articles/:articleId/comments"),".\nWe get ",(0,r.kt)("inlineCode",{parentName:"p"},"comments")," on the article identified by ",(0,r.kt)("inlineCode",{parentName:"p"},"articleId")," and then return it in the response.\nWe add ",(0,r.kt)("inlineCode",{parentName:"p"},"comments")," after the ",(0,r.kt)("inlineCode",{parentName:"p"},"/articles/:articleId")," path segment to indicate that it\u2019s a child resource of /articles."),(0,r.kt)("p",null,"This makes sense since ",(0,r.kt)("inlineCode",{parentName:"p"},"comments")," are the children objects of the ",(0,r.kt)("inlineCode",{parentName:"p"},"articles"),",\nassuming each article has its own comments.\nOtherwise, it\u2019s confusing to the user since this structure is generally accepted to be for accessing child objects.\nThe same principle also applies to the PUT, PATCH and DELETE endpoints.\nThey can all use the same kind of nesting structure for the path names."),(0,r.kt)("h2",{id:"handle-errors-gracefully-and-return-standard-error-codes"},"Handle Errors Gracefully And Return Standard Error Codes"),(0,r.kt)("p",null,"To eliminate confusion for API users when an error occurs,\nwe should handle errors gracefully and return HTTP response codes that indicate what kind of error occurred.\nThis gives maintainers of the API enough information to understand the problem that\u2019s occurred.\nWe don\u2019t want errors to bring down our system, so we can leave them unhandled,\nwhich means that the API consumer has to handle them."),(0,r.kt)("p",null,"Common error HTTP status codes include:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"200 OK Server successfully returned the requested data."),(0,r.kt)("li",{parentName:"ul"},"201 CREATED Server successfully created or modified the requested resource."),(0,r.kt)("li",{parentName:"ul"},"204 NO CONTENT Server successfully deleted the requested resource."),(0,r.kt)("li",{parentName:"ul"},"400 INVALID REQUEST The request was invalid or cannot be served. The exact error should be explained in the error payload. E.g. \u201eThe JSON is not valid\u201c."),(0,r.kt)("li",{parentName:"ul"},"401 UNAUTHORIZED The request requires an user authentication."),(0,r.kt)("li",{parentName:"ul"},"403 FORBIDDEN The server understood the request, but is refusing it or the access is not allowed."),(0,r.kt)("li",{parentName:"ul"},"404 NOT FOUND There is no resource behind the URI."),(0,r.kt)("li",{parentName:"ul"},"422 Unprocessable Entity Should be used if the server cannot process the enitity, e.g. if an image cannot be formatted or mandatory fields are missing in the payload."),(0,r.kt)("li",{parentName:"ul"},"500 INTERNAL SERVER ERROR Internal Server Error."),(0,r.kt)("li",{parentName:"ul"},"502 BAD GATEWAY Server received an invalid response from the upstream server while trying to fulfill the request."),(0,r.kt)("li",{parentName:"ul"},"503 SERVICE UNAVAILABLE Service unavailable.")),(0,r.kt)("h2",{id:"naming-conventions-for-routes-and-actions"},"Naming Conventions For ",(0,r.kt)("a",{parentName:"h2",href:"/docs/next/components/main-components/routes"},"Routes")," & ",(0,r.kt)("a",{parentName:"h2",href:"/docs/next/components/main-components/actions"},"Actions")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"GetAllResources"),": to fetch all resources."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"FindResourceByID"),": to search for a single resource by its unique identifier."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"CreateResource"),": to create a new resource."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"UpdateResource"),": to update/edit existing resource."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"DeleteResource"),": to delete a resource.")))}p.isMDXComponent=!0}}]);