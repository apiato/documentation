"use strict";(self.webpackChunkapiato_documentation=self.webpackChunkapiato_documentation||[]).push([[3818],{7459:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"core-features/pagination","title":"Pagination","description":"- Change the default pagination limit","source":"@site/versioned_docs/version-9.x/core-features/pagination.md","sourceDirName":"core-features","slug":"/core-features/pagination","permalink":"/docs/9.x/core-features/pagination","draft":false,"unlisted":false,"editUrl":"https://github.com/apiato/documentation/tree/master/versioned_docs/version-9.x/core-features/pagination.md","tags":[],"version":"9.x","lastUpdatedBy":"Moslem Deris","lastUpdatedAt":1618748235000,"frontMatter":{"title":"Pagination"},"sidebar":"docs","previous":{"title":"Data Caching","permalink":"/docs/9.x/core-features/data-caching"},"next":{"title":"Payments","permalink":"/docs/9.x/core-features/payments"}}');var a=t(74848),o=t(28453);const s={title:"Pagination"},r=void 0,l={},c=[{value:"Change the default pagination limit",id:"change-the-default-pagination-limit",level:2},{value:"Limit",id:"limit",level:2},{value:"Skip the Pagination Limit",id:"skip-the-pagination-limit",level:2}];function d(e){const i={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:(0,a.jsx)(i.a,{href:"#change-the-default-pagination-limit",children:"Change the default pagination limit"})}),"\n",(0,a.jsx)(i.li,{children:(0,a.jsx)(i.a,{href:"#limit",children:"Limit"})}),"\n",(0,a.jsx)(i.li,{children:(0,a.jsx)(i.a,{href:"#skip-the-pagination-limit",children:"Skip the Pagination Limit"})}),"\n"]}),"\n",(0,a.jsxs)(i.p,{children:["For pagination apiato uses the ",(0,a.jsx)(i.a,{href:"https://packagist.org/packages/prettus/l5-repository",children:"L5 Repository Package"})," and the\npagination gets applied whenever you use the ",(0,a.jsx)(i.code,{children:"paginate"})," function on any model repository\n(example: ",(0,a.jsx)(i.code,{children:"$stores = $this->storeRepository->paginate();"}),")."]}),"\n",(0,a.jsx)(i.h2,{id:"change-the-default-pagination-limit",children:"Change the default pagination limit"}),"\n",(0,a.jsxs)(i.p,{children:["Open the ",(0,a.jsx)(i.code,{children:".env"})," file and set a number for ",(0,a.jsx)(i.code,{children:"PAGINATION_LIMIT_DEFAULT"}),":"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-env",children:"PAGINATION_LIMIT_DEFAULT=10\n"})}),"\n",(0,a.jsxs)(i.p,{children:["This is used in the ",(0,a.jsx)(i.code,{children:"config/repository.php"})," which is the config file of the ",(0,a.jsx)(i.strong,{children:"L5 Repository"})," Package."]}),"\n",(0,a.jsx)(i.h2,{id:"limit",children:"Limit"}),"\n",(0,a.jsxs)(i.p,{children:["The ",(0,a.jsx)(i.code,{children:"?limit="})," parameter can be applied to define, how many results should be returned on one page (see also ",(0,a.jsx)(i.code,{children:"Pagination"}),"!)."]}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.strong,{children:"Usage:"})}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{children:"api.domain.test/endpoint?limit=100\n"})}),"\n",(0,a.jsxs)(i.p,{children:["This would return 100 resources within one page of the result. Of course, the ",(0,a.jsx)(i.code,{children:"limit"})," and ",(0,a.jsx)(i.code,{children:"page"})," query parameter can be\ncombined in order to get the next 100 resources:"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{children:"api.domain.test/endpoint?limit=100&page=2\n"})}),"\n",(0,a.jsxs)(i.p,{children:["In order to allow clients to request all data that matches their criteria (e.g., search-criteria) and disable pagination,\nyou can manually override the ",(0,a.jsx)(i.code,{children:"$allowDisablePagination"})," property in your specific ",(0,a.jsx)(i.code,{children:"Repository"})," class. A requester can then\nget all data (with no pagination applied) by requesting ",(0,a.jsx)(i.code,{children:"api.domain.test/endpoint?limit=0"}),". This will return all matching\nentities."]}),"\n",(0,a.jsx)(i.h2,{id:"skip-the-pagination-limit",children:"Skip the Pagination Limit"}),"\n",(0,a.jsx)(i.p,{children:"You can allow developers to skip the pagination limit as follows:"}),"\n",(0,a.jsxs)(i.p,{children:["First, you need to enable that feature from the server by setting ",(0,a.jsx)(i.code,{children:"PAGINATION_SKIP"})," to ",(0,a.jsx)(i.code,{children:"true"})," (",(0,a.jsx)(i.code,{children:"PAGINATION_SKIP=true"}),")."]}),"\n",(0,a.jsxs)(i.p,{children:["Second, inform the developers (users) to pass ",(0,a.jsx)(i.code,{children:"?limit=0"})," with the request they wish to get all it's data un-paginated."]})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,i,t)=>{t.d(i,{R:()=>s,x:()=>r});var n=t(96540);const a={},o=n.createContext(a);function s(e){const i=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),n.createElement(o.Provider,{value:i},e.children)}}}]);