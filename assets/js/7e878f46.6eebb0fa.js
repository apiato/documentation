"use strict";(self.webpackChunkapiato_documentation=self.webpackChunkapiato_documentation||[]).push([[48472],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var i=t(96540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}},48549:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"components/optional-components/events","title":"Events","description":"Apiato events are just Laravel Events,","source":"@site/versioned_docs/version-13.x/components/optional-components/events.mdx","sourceDirName":"components/optional-components","slug":"/components/optional-components/events","permalink":"/docs/components/optional-components/events","draft":false,"unlisted":false,"editUrl":"https://github.com/apiato/documentation/tree/master/versioned_docs/version-13.x/components/optional-components/events.mdx","tags":[{"inline":true,"label":"component","permalink":"/docs/tags/component"},{"inline":true,"label":"optional-component","permalink":"/docs/tags/optional-component"},{"inline":true,"label":"event","permalink":"/docs/tags/event"},{"inline":true,"label":"listener","permalink":"/docs/tags/listener"},{"inline":true,"label":"service-provider","permalink":"/docs/tags/service-provider"},{"inline":true,"label":"action","permalink":"/docs/tags/action"},{"inline":true,"label":"task","permalink":"/docs/tags/task"}],"version":"13.x","lastUpdatedBy":"Mohammad Alavi","lastUpdatedAt":1746631000000,"frontMatter":{"title":"Events","tags":["component","optional-component","event","listener","service-provider","action","task"]},"sidebar":"tutorialSidebar","previous":{"title":"Configs","permalink":"/docs/components/optional-components/configs"},"next":{"title":"Factories","permalink":"/docs/components/optional-components/factories"}}');var s=t(74848),o=t(28453);const r={title:"Events",tags:["component","optional-component","event","listener","service-provider","action","task"]},l=void 0,a={},c=[{value:"Rules",id:"rules",level:2},{value:"Folder Structure",id:"folder-structure",level:2},{value:"Code Example",id:"code-example",level:2},{value:"Event Discovery",id:"event-discovery",level:3},{value:"Configuration",id:"configuration",level:4}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Apiato events are just ",(0,s.jsx)(n.a,{href:"https://laravel.com/docs/events",children:"Laravel Events"}),",\nand they function in the exact same way as Laravel events.\nHowever, they come with additional rules and conventions specific to Apiato."]}),"\n",(0,s.jsx)(n.p,{children:"To generate new events and listeners, you may use the following interactive commands:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"php artisan apiato:make:event\nphp artisan apiato:make:listener\n"})}),"\n",(0,s.jsx)(n.h2,{id:"rules",children:"Rules"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["All","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Events MUST extend the ",(0,s.jsx)(n.code,{children:"App\\Ship\\Parents\\Events\\Event"})," class.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The parent extension SHOULD be aliased as ",(0,s.jsx)(n.code,{children:"ParentEvent"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Listeners MUST extend the ",(0,s.jsx)(n.code,{children:"App\\Ship\\Parents\\Listeners\\Listener"})," class.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The parent extension SHOULD be aliased as ",(0,s.jsx)(n.code,{children:"ParentListener"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["All container-specific","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Events MUST be placed in the ",(0,s.jsx)(n.code,{children:"app/Containers/{Section}/{Container}/Events"})," directory."]}),"\n",(0,s.jsxs)(n.li,{children:["Listeners MUST be placed in the ",(0,s.jsx)(n.code,{children:"app/Containers/{Section}/{Container}/Listeners"})," directory."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["All general","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Events MUST be placed in the ",(0,s.jsx)(n.code,{children:"app/Ship/Events"})," directory."]}),"\n",(0,s.jsxs)(n.li,{children:["Listeners MUST be placed in the ",(0,s.jsx)(n.code,{children:"app/Ship/Listeners"})," directory."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Listeners CAN listen to all cross-container and cross-section events."}),"\n",(0,s.jsxs)(n.li,{children:["Events and Listeners MUST be registered in the location where you intend to handle that event. (unless using ",(0,s.jsx)(n.a,{href:"https://laravel.com/docs/events#event-discovery",children:"event discovery"}),")","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If you intend to handle an event in:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A container, the Listener MUST be registered in ",(0,s.jsx)(n.code,{children:"App\\Containers\\{Section}\\{Container}\\Providers\\EventServiceProvider"})," class."]}),"\n",(0,s.jsxs)(n.li,{children:["The Ship, the Listener MUST be registered in ",(0,s.jsx)(n.code,{children:"App\\Ship\\Providers\\EventServiceProvider"})," class."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"folder-structure",children:"Folder Structure"}),"\n",(0,s.jsx)(n.p,{children:"The highlighted sections showcase event and listener registration points:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"app\n\u251c\u2500\u2500 Containers\n\u2502   \u2514\u2500\u2500 Section\n\u2502       \u2514\u2500\u2500 Container\n\u2502           \u251c\u2500\u2500 Events\n\u2502           \u2502   \u251c\u2500\u2500 DemoEvent.php\n\u2502           \u2502   \u2514\u2500\u2500 ...\n\u2502           \u251c\u2500\u2500 Listeners\n\u2502           \u2502   \u251c\u2500\u2500 DemoListener.php\n\u2502           \u2502   \u2514\u2500\u2500 ...\n\u2502           \u2514\u2500\u2500 Providers\n                // highlight-start\n\u2502               \u251c\u2500\u2500 EventServiceProvider.php\n                // highlight-end\n\u2502               \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 Ship\n    \u251c\u2500\u2500 Events\n    \u2502   \u251c\u2500\u2500 ShipDemoEvent.php\n    \u2502   \u2514\u2500\u2500 ...\n    \u251c\u2500\u2500 Listeners\n    \u2502   \u251c\u2500\u2500 ShipDemoListener.php\n    \u2502   \u2514\u2500\u2500 ...\n    \u2514\u2500\u2500 Providers\n        // highlight-start\n        \u251c\u2500\u2500 EventServiceProvider.php\n        // highlight-end\n        \u2514\u2500\u2500 ...\n"})}),"\n",(0,s.jsx)(n.h2,{id:"code-example",children:"Code Example"}),"\n",(0,s.jsx)(n.p,{children:"Events and Listeners are defined exactly as you would define them in Laravel."}),"\n",(0,s.jsx)(n.h3,{id:"event-discovery",children:"Event Discovery"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Available since Core v8.15.0"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Instead of registering events and listeners manually in the ",(0,s.jsx)(n.code,{children:"$listen"})," array of the ",(0,s.jsx)(n.code,{children:"EventServiceProvider"}),"s,\nyou can enable Laravel's ",(0,s.jsx)(n.a,{href:"https://laravel.com/docs/events#event-discovery",children:"event discovery"}),".\nWhen event discovery is enabled,\nApiato will automatically find\nand register your events and listeners\nby scanning your application's ",(0,s.jsx)(n.code,{children:"app/Containers/{Section}/{Container}/Listeners"})," directory.\nIn addition, any explicitly defined events listed your ",(0,s.jsx)(n.code,{children:"EventServiceProvider"}),"s will still be registered."]}),"\n",(0,s.jsx)(n.h4,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Apiato is configured\nto load all event files in the ",(0,s.jsx)(n.code,{children:"app/Containers/{Section}/{Container}/Listeners"})," and ",(0,s.jsx)(n.code,{children:"app/Ship/Listeners"})," directories."]}),"\n",(0,s.jsxs)(n.p,{children:["If the default configuration does not suit your needs, you can customize it\nvia the ",(0,s.jsx)(n.a,{href:"/docs/digging-deeper/advance-configuration#events",children:"Apiato Configuration"})," class."]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);