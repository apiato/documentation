"use strict";(self.webpackChunkapiato_documentation=self.webpackChunkapiato_documentation||[]).push([[15948],{80305:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>s,metadata:()=>i,toc:()=>p});var r=t(74848),a=t(28453);const s={title:"Profiler"},o=void 0,i={id:"core-features/profiler",title:"Profiler",description:"Profiling is very important to optimize the performance of your application, and help you better understand what happens when a request is received, as well as it can speed up the debugging process.",source:"@site/versioned_docs/version-9.x/core-features/profiler.md",sourceDirName:"core-features",slug:"/core-features/profiler",permalink:"/docs/9.x/core-features/profiler",draft:!1,unlisted:!1,editUrl:"https://github.com/apiato/documentation/tree/master/versioned_docs/version-9.x/core-features/profiler.md",tags:[],version:"9.x",lastUpdatedBy:"Moslem Deris",lastUpdatedAt:1618748235e3,frontMatter:{title:"Profiler"},sidebar:"docs",previous:{title:"Admin Dashboard",permalink:"/docs/9.x/core-features/admin-dashboard"},next:{title:"Routes",permalink:"/docs/9.x/main-components/routes"}},l={},p=[{value:"Sample Profiler response",id:"sample-profiler-response",level:3},{value:"Configuration",id:"configuration",level:3}];function d(e){const n={a:"a",code:"code",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Profiling is very important to optimize the performance of your application, and help you better understand what happens when a request is received, as well as it can speed up the debugging process."}),"\n",(0,r.jsxs)(n.p,{children:["Apiato uses the third-party package ",(0,r.jsx)(n.a,{href:"https://github.com/barryvdh/laravel-debugbar",children:"laravel-debugbar"})," (which uses the ",(0,r.jsx)(n.a,{href:"http://phpdebugbar.com/",children:"PHP Debug Bar"}),"), to collect the profiling data."]}),"\n",(0,r.jsxs)(n.p,{children:["By default, the ",(0,r.jsx)(n.strong,{children:"laravel-debugbar"})," package displays the profiling data in the browser.\nHowever, Apiato uses a middleware ",(0,r.jsx)(n.code,{children:"app/Ship/Middlewares/Http/ProfilerMiddleware.php"})," to append the profiling data to the response."]}),"\n",(0,r.jsx)(n.h3,{id:"sample-profiler-response",children:"Sample Profiler response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    // Actual Response Here...\n    "_profiler": {\n        "__meta": {\n            "id": "X167f293230e3457f1bbd95d9c82aba4a",\n            "datetime": "2017-09-22 18:45:27",\n            "utime": 1506105927.799299,\n            "method": "GET",\n            "uri": "/",\n            "ip": "172.20.0.1"\n        },\n        "messages": {\n            "count": 0,\n            "messages": []\n        },\n        "time": {\n            "start": 1506105922.742068,\n            "end": 1506105927.799333,\n            "duration": 5.057265043258667,\n            "duration_str": "5.06s",\n            "measures": [\n                {\n                    "label": "Booting",\n                    "start": 1506105922.742068,\n                    "relative_start": 0,\n                    "end": 1506105923.524004,\n                    "relative_end": 1506105923.524004,\n                    "duration": 0.7819359302520752,\n                    "duration_str": "781.94ms",\n                    "params": [],\n                    "collector": null\n                },\n                {\n                    "label": "Application",\n                    "start": 1506105923.535343,\n                    "relative_start": 0.7932748794555664,\n                    "end": 1506105927.799336,\n                    "relative_end": 0.00000286102294921875,\n                    "duration": 4.26399302482605,\n                    "duration_str": "4.26s",\n                    "params": [],\n                    "collector": null\n                }\n            ]\n        },\n        "memory": {\n            "peak_usage": 13234248,\n            "peak_usage_str": "12.62MB"\n        },\n        "exceptions": {\n            "count": 0,\n            "exceptions": []\n        },\n        "route": {\n            "uri": "GET /",\n            "middleware": "api, throttle:30,1",\n            "domain": "http://api.apiato.test",\n            "as": "apis_root_page",\n            "controller": "App\\\\Containers\\\\Welcome\\\\UI\\\\API\\\\Controllers\\\\Controller@apiRoot",\n            "namespace": "App\\\\Containers\\\\Welcome\\\\UI\\\\API\\\\Controllers",\n            "prefix": "/",\n            "where": [],\n            "file": "app/Containers/Welcome/UI/API/Controllers/Controller.php:20-25"\n        },\n        "queries": {\n            "nb_statements": 0,\n            "nb_failed_statements": 0,\n            "accumulated_duration": 0,\n            "accumulated_duration_str": "0\u03bcs",\n            "statements": []\n        },\n        "swiftmailer_mails": {\n            "count": 0,\n            "mails": []\n        },\n        "logs": {\n            "count": 3,\n            "messages": [\n                {\n                    "message": "...",\n                    "message_html": null,\n                    "is_string": false,\n                    "label": "error",\n                    "time": 1506105927.694807\n                },\n                {\n                    "message": "...",\n                    "message_html": null,\n                    "is_string": false,\n                    "label": "error",\n                    "time": 1506105927.694811\n                },\n                {\n                    "message": "[2017-09-18 17:38:15] testing.INFO: New User registration. ID = 970ylqvaogmxnbdr | Email = apiato@mail.test.      Thank you for signing up.\\n</div>\\n</body>\\n</html>\\n  \\n",\n                    "message_html": null,\n                    "is_string": false,\n                    "label": "info",\n                    "time": 1506105927.694812\n                }\n            ]\n        },\n        "auth": {\n            "guards": {\n                "web": "array:2 [\\n  \\"name\\" => \\"Guest\\"\\n  \\"user\\" => array:1 [\\n    \\"guest\\" => true\\n  ]\\n]",\n                "api": "array:2 [\\n  \\"name\\" => \\"Guest\\"\\n  \\"user\\" => array:1 [\\n    \\"guest\\" => true\\n  ]\\n]"\n            },\n            "names": ""\n        },\n        "gate": {\n            "count": 0,\n            "messages": []\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["By default, the profiler feature is turned off. To turn it on edit the ",(0,r.jsx)(n.code,{children:".env"})," file and set ",(0,r.jsx)(n.code,{children:"DEBUGBAR_ENABLED=true"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["To control and modify the profiler response, you need to edit this config file ",(0,r.jsx)(n.code,{children:"app/Ship/Configs/debugbar.php"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var r=t(96540);const a={},s=r.createContext(a);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);